{"version":3,"sources":["../../server/utilities/saveImageLocally.js"],"names":["fs","require","Multer","path","uploadDirRelative","uploadDir","join","__dirname","existsSync","mkdirSync","recursive","photoStorage","diskStorage","destination","req","file","cb","filename","Date","now","extname","originalname","uploader","storage","module","exports"],"mappings":";;AAAA,IAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAME,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AAEA,IAAMG,iBAAiB,GAAG,SAA1B;AACA,IAAMC,SAAS,GAAGF,IAAI,CAACG,IAAL,CAAUC,SAAV,kBAA8BH,iBAA9B,EAAlB;;AAEA,IAAI,CAACJ,EAAE,CAACQ,UAAH,CAAcH,SAAd,CAAL,EAA+B;AAC7BL,EAAAA,EAAE,CAACS,SAAH,CAAaJ,SAAb,EAAwB;AAAEK,IAAAA,SAAS,EAAE;AAAb,GAAxB;AACD;;AAED,IAAIC,YAAY,GAAGT,MAAM,CAACU,WAAP,CAAmB;AACpCC,EAAAA,WAAW,EAAE,qBAAUC,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACpCA,IAAAA,EAAE,CAAC,IAAD,EAAOZ,iBAAP,CAAF;AACD,GAHmC;AAIpCa,EAAAA,QAAQ,EAAE,kBAAUH,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACjCA,IAAAA,EAAE,CACA,IADA,EAEA,oBAAoB,GAApB,GAA0BE,IAAI,CAACC,GAAL,EAA1B,GAAuChB,IAAI,CAACiB,OAAL,CAAaL,IAAI,CAACM,YAAlB,CAFvC,CAAF;AAID;AATmC,CAAnB,CAAnB;AAYA,IAAIC,QAAQ,GAAGpB,MAAM,CAAC;AAAEqB,EAAAA,OAAO,EAAEZ;AAAX,CAAD,CAArB;AACAa,MAAM,CAACC,OAAP,GAAiBH,QAAjB","sourcesContent":["const fs = require('fs');\nconst Multer = require('multer');\nconst path = require('path');\n\nconst uploadDirRelative = 'uploads';\nconst uploadDir = path.join(__dirname, `../../${uploadDirRelative}`);\n\nif (!fs.existsSync(uploadDir)) {\n  fs.mkdirSync(uploadDir, { recursive: true });\n}\n\nlet photoStorage = Multer.diskStorage({\n  destination: function (req, file, cb) {\n    cb(null, uploadDirRelative);\n  },\n  filename: function (req, file, cb) {\n    cb(\n      null,\n      'conversion_file' + '_' + Date.now() + path.extname(file.originalname),\n    );\n  },\n});\n\nvar uploader = Multer({ storage: photoStorage });\nmodule.exports = uploader;\n"],"file":"saveImageLocally.js"}